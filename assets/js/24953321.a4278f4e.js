"use strict";(self.webpackChunkdownpay_docs=self.webpackChunkdownpay_docs||[]).push([[661],{4137:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),d=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=d(e.components);return r.createElement(l.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=d(n),p=a,f=m["".concat(l,".").concat(p)]||m[p]||u[p]||o;return n?r.createElement(f,i(i({ref:t},c),{},{components:n})):r.createElement(f,i({ref:t},c))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[m]="string"==typeof e?e:a,i[1]=s;for(var d=2;d<o;d++)i[d]=n[d];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},715:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var r=n(7462),a=(n(7294),n(4137));const o={sidebar_position:2,slug:"/order-confirmation-email",title:"Order Confirmation Email"},i="Adding deposit information to order confirmation emails",s={unversionedId:"Notifications/order-confirmation-email",id:"Notifications/order-confirmation-email",title:"Order Confirmation Email",description:'By default, "due now" and "due later" totals are available in Shopify\'s standard order confirmation template. If you have modified the order confirmation template you use, you will need to manually add this code in order to display these subtotal fields to help customers understand what the remaining balance due is.',source:"@site/docs/Notifications/order-confirmation-email.md",sourceDirName:"Notifications",slug:"/order-confirmation-email",permalink:"/order-confirmation-email",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,slug:"/order-confirmation-email",title:"Order Confirmation Email"},sidebar:"tutorialSidebar",previous:{title:"Payment Reminders",permalink:"/payment-reminders"},next:{title:"Order Management",permalink:"/order-management-overview"}},l={},d=[{value:"Steps",id:"steps",level:3}],c={toc:d},m="wrapper";function u(e){let{components:t,...n}=e;return(0,a.kt)(m,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"adding-deposit-information-to-order-confirmation-emails"},"Adding deposit information to order confirmation emails"),(0,a.kt)("p",null,'By default, "due now" and "due later" totals are available in Shopify\'s standard order confirmation template. If you have modified the order confirmation template you use, you will need to manually add this code in order to display these subtotal fields to help customers understand what the remaining balance due is.'),(0,a.kt)("h3",{id:"steps"},"Steps"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Navigate to your Shopify settings page and click Notifications in the right hand column. "),(0,a.kt)("li",{parentName:"ol"},"Click the ",(0,a.kt)("strong",{parentName:"li"},"Order Confirmation")," template and click ",(0,a.kt)("strong",{parentName:"li"},"Edit code"),". "),(0,a.kt)("li",{parentName:"ol"},"Add the following code above or below your subtotal-line within the table. ")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'{% assign transaction_size = 0 %}\n{% assign transaction_amount = 0 %}\n{% for transaction in transactions %}\n    {% if transaction.status == "success" %}\n        {% unless transaction.kind == "authorization" or transaction.kind == "void" %}\n            {% assign transaction_size = transaction_size | plus: 1 %}\n            {% assign transaction_amount = transaction_amount | plus: transaction.amount %}\n        {% endunless %}\n    {% endif %}\n{% endfor %}\n{% if payment_terms and payment_terms.automatic_capture_at_fulfillment == false or b2b?%}\n{% assign due_at_date = payment_terms.next_payment.due_at | date: "%b %d, %Y" %}\n\n<tr class="subtotal-line">\n    <td class="subtotal-line__title">\n        <p>\n            <span>Total paid today</span>\n        </p>\n    </td>\n    <td class="subtotal-line__value">\n        <strong>{{ transaction_amount | money_with_currency }}</strong>\n    </td>\n</tr>\n\n<div class="payment-terms">\n\n    <tr class="subtotal-line">\n        <td class="subtotal-line__title">\n            <p>\n                <span>Total due later</span>\n            </p>\n        </td>\n        <td class="subtotal-line__value">\n            <strong>{{ payment_terms.next_payment.amount_due | money_with_currency }}</strong>\n        </td>\n    </tr>\n\n</div>\n{% endif %}\n')))}u.isMDXComponent=!0}}]);